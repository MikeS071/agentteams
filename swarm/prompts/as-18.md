# AS-18: Comprehensive E2E test suite for all agent modes + UI flows

## Scope
Write end-to-end tests covering all major UI flows after the refactor.

## Test framework
Use Playwright (if already configured) or add it: `pnpm add -D @playwright/test`

## Test file
Create `apps/web/tests/e2e/agent-modes.spec.ts`

## Test cases

### Navigation & Layout
- [ ] Sidebar renders as narrow icon tiles (w-16, not w-56)
- [ ] All sidebar items have icons and labels
- [ ] No "Hands" nav item exists
- [ ] "AI Agents" or equivalent nav item exists
- [ ] Clicking sidebar items navigates correctly

### Agent Grid (Home State)
- [ ] Agent grid shows 6 agents: Chat, Research, Coder, Intel, Social, Clip
- [ ] No Lead Generator, Browser, or Predictor agents visible
- [ ] Agent grid fills full content area when no agent selected
- [ ] Each tile shows icon, name, description

### Agent Mode Selection
- [ ] Clicking an agent tile enters that agent's mode
- [ ] Compact agent selector strip appears at top
- [ ] Active agent is highlighted in selector
- [ ] Can switch between agents via selector
- [ ] "Back to agents" returns to full grid

### Per-Agent Layouts
- [ ] Research Assistant: split view with chat + research panel
- [ ] Coder: full-width chat
- [ ] Intelligence Collector: split view with chat + intel panel
- [ ] Social Manager: split view with chat + calendar panel
- [ ] Clip Creator: split view with chat + media panel
- [ ] General Chat: full-width chat

### Chat Functionality
- [ ] Chat input accepts text and sends messages
- [ ] "+ New Chat" button visible in chat header
- [ ] No conversations sidebar panel exists
- [ ] Messages persist when switching agents

### Swarm TUI
- [ ] Collapsible top panel renders in chat area
- [ ] Panel collapses/expands on click
- [ ] Dismiss button (âœ•) hides panel
- [ ] Swarm workspace tab shows full status view

### Cleanup Verification
- [ ] No references to "OpenFang Hands" in rendered UI
- [ ] No references to "Hands" in any visible text
- [ ] No references to "leadgen", "browser", or "predictor" agents
- [ ] `grep -r "OpenFang Hands\|leadgen\|predictor" apps/web/src/` returns nothing

## Rules
- Branch: `feat/as-18`
- Commit: `test: comprehensive E2E test suite for agent modes + UI flows`
- All tests should pass: `npx playwright test`
