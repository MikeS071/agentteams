# AS-06: Research Assistant split UI â€” Chat + Research panel

## Scope
When "Research Assistant" agent is active, the layout splits vertically 50/50:
- Left: Chat UI (standard chat input + messages)
- Right: Research panel (live research progress + interactive direction)

## Research Panel component
Create `apps/web/src/components/ResearchPanel.tsx`:

### Sections (top to bottom):
1. **Pipeline Progress** â€” vertical stepper showing stages:
   - Plan (generating sub-queries)
   - Search (querying sources)
   - Read (extracting content)
   - Analyze (per-source analysis)
   - Gap Analysis (with interactive cards)
   - Synthesize (cross-referencing)
   - Report (generating final output)
   - Each step: icon + label + status (pending/running/done) + detail text

2. **Gap Analysis Cards** (when in gap analysis stage):
   - Title: "Round N â€” Found limited coverage on:"
   - Clickable cards for each gap: `[ğŸ” Topic name]`
   - "Skip â€” enough coverage" button
   - Cards have hover effect, click sends direction to chat

3. **Sources Feed** (live updating):
   - List of found sources: title, URL, relevance score (0-1), status badge (found/extracted/analyzed)
   - Evidence tag: âœ… Supporting, âš ï¸ Contrasting, ğŸ’¬ Mentioning
   - Expandable: click to see excerpt

4. **Report Preview** (when complete):
   - Rendered markdown of the final report
   - "Export" button (copy markdown)

### Data flow
- The research panel listens to chat messages for structured progress updates
- Parse assistant messages for JSON blocks containing pipeline state
- Or use a separate SSE endpoint if available

## Styling
- Dark theme: bg-[#0d0d14], scrollable sections, subtle borders
- Cards: rounded-xl, border-[#24242c], hover:border-[#3a3a44]

## Rules
- Branch: `feat/as-06`
- Commit: `feat: Research Assistant split UI with research panel`
- Use the AgentModeLayout wrapper from as-04
- Verify build passes
